---
title: ğŸ˜¢ 23.é›†åˆ 03
tag:
  - Java
recommend: 24
---

## 1.Mapé›†åˆ

### 1.1Mapé›†åˆæ¦‚è¿°å’Œç‰¹ç‚¹ã€ç†è§£ã€‘

- Mapé›†åˆæ¦‚è¿°

  ```java
  interface Map<K,V>  Kï¼šé”®çš„ç±»å‹ï¼›Vï¼šå€¼çš„ç±»å‹
  ```

- Mapé›†åˆçš„ç‰¹ç‚¹

  - åŒåˆ—é›†åˆ,ä¸€ä¸ªé”®å¯¹åº”ä¸€ä¸ªå€¼
  - é”®ä¸å¯ä»¥é‡å¤,å€¼å¯ä»¥é‡å¤

- Mapé›†åˆçš„åŸºæœ¬ä½¿ç”¨

  ```java
  public class MapDemo01 {
      public static void main(String[] args) {
          //åˆ›å»ºé›†åˆå¯¹è±¡
          Map<String,String> map = new HashMap<String,String>();
  
          //V put(K key, V value) å°†æŒ‡å®šçš„å€¼ä¸è¯¥æ˜ å°„ä¸­çš„æŒ‡å®šé”®ç›¸å…³è”
          map.put("itheima001","æ—é’éœ");
          map.put("itheima002","å¼ æ›¼ç‰");
          map.put("itheima003","ç‹ç¥–è´¤");
          map.put("itheima003","æŸ³å²©");
  
          //è¾“å‡ºé›†åˆå¯¹è±¡
          System.out.println(map);
      }
  }
  ```

### 1.2Mapé›†åˆçš„åŸºæœ¬åŠŸèƒ½ã€åº”ç”¨ã€‘

- æ–¹æ³•ä»‹ç»

  | æ–¹æ³•å                              | è¯´æ˜                                 |
  | ----------------------------------- | ------------------------------------ |
  | `V   put(K key,V   value)    `        | æ·»åŠ å…ƒç´                              |
  | `V   remove(Object key) ` `            | æ ¹æ®é”®åˆ é™¤é”®å€¼å¯¹å…ƒç´                  |
  | `void   clear()   `                   | ç§»é™¤æ‰€æœ‰çš„é”®å€¼å¯¹å…ƒç´                  |
  | `boolean containsKey(Object key)    ` | åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„é”®             |
  | `boolean containsValue(Object value)` `| åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„å€¼             |
  | `boolean isEmpty()         `          | åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º                     |
  |` `int size()    `                      | é›†åˆçš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯é›†åˆä¸­é”®å€¼å¯¹çš„ä¸ªæ•° |

- ç¤ºä¾‹ä»£ç 

  ```java
  public class MapDemo02 {
      public static void main(String[] args) {
          //åˆ›å»ºé›†åˆå¯¹è±¡
          Map<String,String> map = new HashMap<String,String>();
  
          //V put(K key,V value)ï¼šæ·»åŠ å…ƒç´ 
          map.put("å¼ æ— å¿Œ","èµµæ•");
          map.put("éƒ­é–","é»„è“‰");
          map.put("æ¨è¿‡","å°é¾™å¥³");
  
          //V remove(Object key)ï¼šæ ¹æ®é”®åˆ é™¤é”®å€¼å¯¹å…ƒç´ 
  //        System.out.println(map.remove("éƒ­é–"));
  //        System.out.println(map.remove("éƒ­è¥„"));
  
          //void clear()ï¼šç§»é™¤æ‰€æœ‰çš„é”®å€¼å¯¹å…ƒç´ 
  //        map.clear();
  
          //boolean containsKey(Object key)ï¼šåˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„é”®
  //        System.out.println(map.containsKey("éƒ­é–"));
  //        System.out.println(map.containsKey("éƒ­è¥„"));
  
          //boolean isEmpty()ï¼šåˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º
  //        System.out.println(map.isEmpty());
  
          //int size()ï¼šé›†åˆçš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯é›†åˆä¸­é”®å€¼å¯¹çš„ä¸ªæ•°
          System.out.println(map.size());
  
          //è¾“å‡ºé›†åˆå¯¹è±¡
          System.out.println(map);
      }
  }
  ```

### 1.3Mapé›†åˆçš„è·å–åŠŸèƒ½ã€åº”ç”¨ã€‘

- æ–¹æ³•ä»‹ç»

  | æ–¹æ³•å                           | è¯´æ˜                     |
  | -------------------------------- | ------------------------ |
  |` V   get(Object key) `             | æ ¹æ®é”®è·å–å€¼             |
  | `Set<K>   keySet()`                | è·å–æ‰€æœ‰é”®çš„é›†åˆ         |
  | `Collection<V>   values() `        | è·å–æ‰€æœ‰å€¼çš„é›†åˆ         |
  | `Set<Map.Entry<K,V>>   entrySet()` | è·å–æ‰€æœ‰é”®å€¼å¯¹å¯¹è±¡çš„é›†åˆ |

- ç¤ºä¾‹ä»£ç 

- ![image-20231106205404387](https://img.picgo.net/2023/11/06/image-20231106205404387e10fc74c14b8cfad.png)



### 1.4Mapé›†åˆçš„éå†(æ–¹å¼1)ã€åº”ç”¨ã€‘

- éå†æ€è·¯

  - æˆ‘ä»¬åˆšæ‰å­˜å‚¨çš„å…ƒç´ éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠMapçœ‹æˆæ˜¯ä¸€ä¸ªå¤«å¦»å¯¹çš„é›†åˆ
    - æŠŠæ‰€æœ‰çš„ä¸ˆå¤«ç»™é›†ä¸­èµ·æ¥
    - éå†ä¸ˆå¤«çš„é›†åˆï¼Œè·å–åˆ°æ¯ä¸€ä¸ªä¸ˆå¤«
    - æ ¹æ®ä¸ˆå¤«å»æ‰¾å¯¹åº”çš„å¦»å­

- æ­¥éª¤åˆ†æ

  - è·å–æ‰€æœ‰é”®çš„é›†åˆã€‚ç”¨keySet()æ–¹æ³•å®ç°
  - éå†é”®çš„é›†åˆï¼Œè·å–åˆ°æ¯ä¸€ä¸ªé”®ã€‚ç”¨å¢å¼ºforå®ç°  
  - æ ¹æ®é”®å»æ‰¾å€¼ã€‚ç”¨get(Object key)æ–¹æ³•å®ç°

- ä»£ç å®ç°

![image-20231106205602552](https://img.picgo.net/2023/11/06/image-20231106205602552dd51a3eeea0fb698.png)

### 1.5Mapé›†åˆçš„éå†(æ–¹å¼2)ã€åº”ç”¨ã€‘

- éå†æ€è·¯
  - æˆ‘ä»¬åˆšæ‰å­˜å‚¨çš„å…ƒç´ éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠMapçœ‹æˆæ˜¯ä¸€ä¸ªå¤«å¦»å¯¹çš„é›†åˆ
    - è·å–æ‰€æœ‰ç»“å©šè¯çš„é›†åˆ
    - éå†ç»“å©šè¯çš„é›†åˆï¼Œå¾—åˆ°æ¯ä¸€ä¸ªç»“å©šè¯
    - æ ¹æ®ç»“å©šè¯è·å–ä¸ˆå¤«å’Œå¦»å­

- æ­¥éª¤åˆ†æ
  - è·å–æ‰€æœ‰é”®å€¼å¯¹å¯¹è±¡çš„é›†åˆ
    - Set<Map.Entry<K,V>> entrySet()ï¼šè·å–æ‰€æœ‰é”®å€¼å¯¹å¯¹è±¡çš„é›†åˆ
  - éå†é”®å€¼å¯¹å¯¹è±¡çš„é›†åˆï¼Œå¾—åˆ°æ¯ä¸€ä¸ªé”®å€¼å¯¹å¯¹è±¡
    - ç”¨å¢å¼ºforå®ç°ï¼Œå¾—åˆ°æ¯ä¸€ä¸ªMap.Entry
  - æ ¹æ®é”®å€¼å¯¹å¯¹è±¡è·å–é”®å’Œå€¼
    - ç”¨getKey()å¾—åˆ°é”®
    - ç”¨getValue()å¾—åˆ°å€¼

- ä»£ç å®ç°

  ```java
  public class MapDemo02 {
      public static void main(String[] args) {
          //åˆ›å»ºé›†åˆå¯¹è±¡
          Map<String, String> map = new HashMap<String, String>();
  
          //æ·»åŠ å…ƒç´ 
          map.put("å¼ æ— å¿Œ", "èµµæ•");
          map.put("éƒ­é–", "é»„è“‰");
          map.put("æ¨è¿‡", "å°é¾™å¥³");
  
          //è·å–æ‰€æœ‰é”®å€¼å¯¹å¯¹è±¡çš„é›†åˆ
          Set<Map.Entry<String, String>> entrySet = map.entrySet();
          //éå†é”®å€¼å¯¹å¯¹è±¡çš„é›†åˆï¼Œå¾—åˆ°æ¯ä¸€ä¸ªé”®å€¼å¯¹å¯¹è±¡
          for (Map.Entry<String, String> me : entrySet) {
              //æ ¹æ®é”®å€¼å¯¹å¯¹è±¡è·å–é”®å’Œå€¼
              String key = me.getKey();
              String value = me.getValue();
              System.out.println(key + "," + value);
          }
      }
  }
  ```

## 2.HashMapé›†åˆ

### 2.1HashMapé›†åˆæ¦‚è¿°å’Œç‰¹ç‚¹ã€ç†è§£ã€‘

+ HashMapåº•å±‚æ˜¯å“ˆå¸Œè¡¨ç»“æ„çš„
+ ä¾èµ–hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•ä¿è¯é”®çš„å”¯ä¸€
+ å¦‚æœé”®è¦å­˜å‚¨çš„æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œéœ€è¦é‡å†™hashCodeå’Œequalsæ–¹æ³•

### 2.2HashMapé›†åˆåº”ç”¨æ¡ˆä¾‹ã€åº”ç”¨ã€‘

- æ¡ˆä¾‹éœ€æ±‚

  - åˆ›å»ºä¸€ä¸ªHashMapé›†åˆï¼Œé”®æ˜¯å­¦ç”Ÿå¯¹è±¡(Student)ï¼Œå€¼æ˜¯å±…ä½åœ° (String)ã€‚å­˜å‚¨å¤šä¸ªå…ƒç´ ï¼Œå¹¶éå†ã€‚
  - è¦æ±‚ä¿è¯é”®çš„å”¯ä¸€æ€§ï¼šå¦‚æœå­¦ç”Ÿå¯¹è±¡çš„æˆå‘˜å˜é‡å€¼ç›¸åŒï¼Œæˆ‘ä»¬å°±è®¤ä¸ºæ˜¯åŒä¸€ä¸ªå¯¹è±¡

- ä»£ç å®ç°

  å­¦ç”Ÿç±»

  ```java
  public class Student {
      private String name;
      private int age;
  
      public Student() {
      }
  
      public Student(String name, int age) {
          this.name = name;
          this.age = age;
      }
  
      public String getName() {
          return name;
      }
  
      public void setName(String name) {
          this.name = name;
      }
  
      public int getAge() {
          return age;
      }
  
      public void setAge(int age) {
          this.age = age;
      }
  
      @Override
      public boolean equals(Object o) {
          if (this == o) return true;
          if (o == null || getClass() != o.getClass()) return false;
  
          Student student = (Student) o;
  
          if (age != student.age) return false;
          return name != null ? name.equals(student.name) : student.name == null;
      }
  
      @Override
      public int hashCode() {
          int result = name != null ? name.hashCode() : 0;
          result = 31 * result + age;
          return result;
      }
  }
  ```

  æµ‹è¯•ç±»

  ```java
  public class HashMapDemo {
      public static void main(String[] args) {
          //åˆ›å»ºHashMapé›†åˆå¯¹è±¡
          HashMap<Student, String> hm = new HashMap<Student, String>();
  
          //åˆ›å»ºå­¦ç”Ÿå¯¹è±¡
          Student s1 = new Student("æ—é’éœ", 30);
          Student s2 = new Student("å¼ æ›¼ç‰", 35);
          Student s3 = new Student("ç‹ç¥–è´¤", 33);
          Student s4 = new Student("ç‹ç¥–è´¤", 33);
  
          //æŠŠå­¦ç”Ÿæ·»åŠ åˆ°é›†åˆ
          hm.put(s1, "è¥¿å®‰");
          hm.put(s2, "æ­¦æ±‰");
          hm.put(s3, "éƒ‘å·");
          hm.put(s4, "åŒ—äº¬");
  
          //éå†é›†åˆ
          Set<Student> keySet = hm.keySet();
          for (Student key : keySet) {
              String value = hm.get(key);
              System.out.println(key.getName() + "," + key.getAge() + "," + value);
          }
      }
  }
  ```

## 3.TreeMapé›†åˆ

### 3.1TreeMapé›†åˆæ¦‚è¿°å’Œç‰¹ç‚¹ã€ç†è§£ã€‘

+ TreeMapåº•å±‚æ˜¯çº¢é»‘æ ‘ç»“æ„
+ ä¾èµ–è‡ªç„¶æ’åºæˆ–è€…æ¯”è¾ƒå™¨æ’åº,å¯¹é”®è¿›è¡Œæ’åº
+ å¦‚æœé”®å­˜å‚¨çš„æ˜¯è‡ªå®šä¹‰å¯¹è±¡,éœ€è¦å®ç°Comparableæ¥å£æˆ–è€…åœ¨åˆ›å»ºTreeMapå¯¹è±¡æ—¶å€™ç»™å‡ºæ¯”è¾ƒå™¨æ’åºè§„åˆ™

### 3.2TreeMapé›†åˆåº”ç”¨æ¡ˆä¾‹ã€åº”ç”¨ã€‘

+ æ¡ˆä¾‹éœ€æ±‚

  + åˆ›å»ºä¸€ä¸ªTreeMapé›†åˆ,é”®æ˜¯å­¦ç”Ÿå¯¹è±¡(Student),å€¼æ˜¯ç±è´¯(String),å­¦ç”Ÿå±æ€§å§“åå’Œå¹´é¾„,æŒ‰ç…§å¹´é¾„è¿›è¡Œæ’åºå¹¶éå†
  + è¦æ±‚æŒ‰ç…§å­¦ç”Ÿçš„å¹´é¾„è¿›è¡Œæ’åº,å¦‚æœå¹´é¾„ç›¸åŒåˆ™æŒ‰ç…§å§“åè¿›è¡Œæ’åº

+ ä»£ç å®ç°

  å­¦ç”Ÿç±»

  ```java
  public class Student implements Comparable<Student>{
      private String name;
      private int age;
  
      public Student() {
      }
  
      public Student(String name, int age) {
          this.name = name;
          this.age = age;
      }
  
      public String getName() {
          return name;
      }
  
      public void setName(String name) {
          this.name = name;
      }
  
      public int getAge() {
          return age;
      }
  
      public void setAge(int age) {
          this.age = age;
      }
  
      @Override
      public String toString() {
          return "Student{" +
                  "name='" + name + '\'' +
                  ", age=" + age +
                  '}';
      }
  
      @Override
      public int compareTo(Student o) {
          //æŒ‰ç…§å¹´é¾„è¿›è¡Œæ’åº
          int result = o.getAge() - this.getAge();
          //æ¬¡è¦æ¡ä»¶ï¼ŒæŒ‰ç…§å§“åæ’åºã€‚
          result = result == 0 ? o.getName().compareTo(this.getName()) : result;
          return result;
      }
  }
  ```

  æµ‹è¯•ç±»

  ```java
  public class Test1 {
      public static void main(String[] args) {
        	// åˆ›å»ºTreeMapé›†åˆå¯¹è±¡
          TreeMap<Student,String> tm = new TreeMap<>();
        
  		// åˆ›å»ºå­¦ç”Ÿå¯¹è±¡
          Student s1 = new Student("xiaohei",23);
          Student s2 = new Student("dapang",22);
          Student s3 = new Student("xiaomei",22);
        
  		// å°†å­¦ç”Ÿå¯¹è±¡æ·»åŠ åˆ°TreeMapé›†åˆä¸­
          tm.put(s1,"æ±Ÿè‹");
          tm.put(s2,"åŒ—äº¬");
          tm.put(s3,"å¤©æ´¥");
        
  		// éå†TreeMapé›†åˆ,æ‰“å°æ¯ä¸ªå­¦ç”Ÿçš„ä¿¡æ¯
          tm.forEach(
                  (Student key, String value)->{
                      System.out.println(key + "---" + value);
                  }
          );
      }
  }
  ```

