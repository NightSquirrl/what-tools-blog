---
title: ğŸ˜¤ Mybatis å…¥é—¨
tag:
  - SpringBoot
  - JavaWeb
  - Mybatis
recommend: 4
---

> å®˜ç½‘ï¼šhttps://mybatis.org/mybatis-3/zh/index.html

## 1. å¿«é€Ÿå…¥é—¨

ä»€ä¹ˆæ˜¯MyBatis?

- MyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ **æŒä¹…å±‚ æ¡†æ¶**ï¼Œç”¨äºç®€åŒ–JDBCçš„å¼€å‘ã€‚

- MyBatisæœ¬æ˜¯ Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œ2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apacheè¿ç§»åˆ°äº†google

- codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚

- å®˜ç½‘ï¼š**https://mybatis.org/mybatis-3/zh/index.html**

åœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°äº†ä¸¤ä¸ªè¯ï¼šä¸€ä¸ªæ˜¯æŒä¹…å±‚ï¼Œå¦ä¸€ä¸ªæ˜¯æ¡†æ¶ã€‚

- æŒä¹…å±‚ï¼šæŒ‡çš„æ˜¯å°±æ˜¯æ•°æ®è®¿é—®å±‚(dao)ï¼Œæ˜¯ç”¨æ¥æ“ä½œæ•°æ®åº“çš„ã€‚

![image-20231117233355747](https://img.picgo.net/2023/11/17/image-20231117233355747c98bc60a0ad08f4f.png)

- æ¡†æ¶ï¼šæ˜¯ä¸€ä¸ªåŠæˆå“è½¯ä»¶ï¼Œæ˜¯ä¸€å¥—å¯é‡ç”¨çš„ã€é€šç”¨çš„ã€è½¯ä»¶åŸºç¡€ä»£ç æ¨¡å‹ã€‚åœ¨æ¡†æ¶çš„åŸºç¡€ä¸Šè¿›è¡Œè½¯ä»¶å¼€å‘æ›´åŠ é«˜æ•ˆã€è§„èŒƒã€é€šç”¨ã€å¯æ‹“å±•ã€‚



 Mybatisä¼šæŠŠæ•°æ®åº“æ‰§è¡Œçš„æŸ¥è¯¢ç»“æœï¼Œä½¿ç”¨å®ä½“ç±»å°è£…èµ·æ¥ï¼ˆä¸€è¡Œè®°å½•å¯¹åº”ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡ï¼‰

![image-20231117233450542](https://img.picgo.net/2023/11/17/image-20231117233450542e169c6bcabc07033.png)

### 1.1 **å…¥é—¨ç¨‹åºå®ç°**

#### 1.1.1 **åˆ›å»º**springbootå·¥ç¨‹

<span style="color:red">åˆ›å»ºspringbootå·¥ç¨‹ï¼Œå¹¶å¯¼å…¥ mybatisçš„èµ·æ­¥ä¾èµ–ã€mysqlçš„é©±åŠ¨åŒ…ã€‚</span>

![image-20231117233716350](https://img.picgo.net/2023/11/17/image-20231117233716350715a2c37e662ea82.png)

![image-20231117233728680](https://img.picgo.net/2023/11/17/image-2023111723372868095afd3ccc0cc316d.png)

#### 1.1.2 Mybatis è¿æ¥æ•°æ®åº“

##### ç¼–è¾‘ application.properties:

```yml
#é©±åŠ¨ç±»åç§°
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#æ•°æ®åº“è¿æ¥çš„url
spring.datasource.url=jdbc:mysql://localhost:3306/mybatis
#è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å
spring.datasource.username=root
#è¿æ¥æ•°æ®åº“çš„å¯†ç 
spring.datasource.password=1234
```

#### 1.1.3 ç¼–å†™ SQL

åœ¨åˆ›å»ºå‡ºæ¥çš„springbootå·¥ç¨‹ä¸­ï¼Œåœ¨å¼•å¯¼ç±»æ‰€åœ¨åŒ…ä¸‹ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªåŒ… mapperã€‚åœ¨mapperåŒ…ä¸‹åˆ›å»ºä¸€ä¸ªæ¥å£ UserMapper ï¼Œè¿™æ˜¯ä¸€ä¸ªæŒä¹…å±‚æ¥å£ï¼ˆMybatisçš„æŒä¹…å±‚æ¥å£è§„èŒƒä¸€èˆ¬éƒ½å«XxxMapperï¼‰ã€‚

```java
import com.itheima.pojo.User;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Select;
import java.util.List;
@Mapper
public interface UserMapper {
  //æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ•°æ®
  @Select("select id, name, age, gender, phone from user")
  public List<User> list();
}
```

> @Mapperæ³¨è§£ï¼šè¡¨ç¤ºæ˜¯mybatisä¸­çš„Mapperæ¥å£
>
> - ç¨‹åºè¿è¡Œæ—¶ï¼šæ¡†æ¶ä¼šè‡ªåŠ¨ç”Ÿæˆæ¥å£çš„å®ç°ç±»å¯¹è±¡(ä»£ç†å¯¹è±¡)ï¼Œå¹¶ç»™äº¤Springçš„IOCå®¹å™¨ç®¡ç†
>
>  @Selectæ³¨è§£ï¼šä»£è¡¨çš„å°±æ˜¯selectæŸ¥è¯¢ï¼Œç”¨äºä¹¦å†™selectæŸ¥è¯¢è¯­å¥



## 2. JDBC ä»‹ç»

å…¶å®javaè¯­è¨€æ“ä½œæ•°æ®åº“å‘¢ï¼Œåªèƒ½é€šè¿‡ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨sunå…¬å¸æä¾›çš„ JDBC è§„èŒƒã€‚

> Mybatisæ¡†æ¶ï¼Œå°±æ˜¯å¯¹åŸå§‹çš„JDBCç¨‹åºçš„å°è£…

é‚£åˆ°åº•ä»€ä¹ˆæ˜¯JDBCå‘¢ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹ã€‚

JDBCï¼š ( Java DataBase Connectivity )ï¼Œå°±æ˜¯ä½¿ç”¨Javaè¯­è¨€æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¥—APIã€‚

![image-20231117234138261](https://img.picgo.net/2023/11/17/image-202311172341382611522f850ef17db35.png)

> æœ¬è´¨ï¼š
>
> - sunå…¬å¸å®˜æ–¹å®šä¹‰çš„ä¸€å¥—æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„è§„èŒƒï¼Œå³æ¥å£ã€‚
>
> - å„ä¸ªæ•°æ®åº“å‚å•†å»å®ç°è¿™å¥—æ¥å£ï¼Œæä¾›æ•°æ®åº“é©±åŠ¨jaråŒ…ã€‚
>
> - æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™å¥—æ¥å£(JDBC)ç¼–ç¨‹ï¼ŒçœŸæ­£æ‰§è¡Œçš„ä»£ç æ˜¯é©±åŠ¨jaråŒ…ä¸­çš„å®ç°ç±»ã€‚

## 3. æ•°æ®åº“è¿æ¥æ± 

åœ¨å‰é¢æˆ‘ä»¬æ‰€è®²è§£çš„mybatisä¸­ï¼Œä½¿ç”¨äº†æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ï¼Œé¿å…é¢‘ç¹çš„åˆ›å»ºè¿æ¥ã€é”€æ¯è¿æ¥è€Œå¸¦æ¥çš„èµ„æºæµªè´¹ã€‚

> æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼š
>
> - å®¢æˆ·ç«¯æ‰§è¡ŒSQLè¯­å¥ï¼šè¦å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„è¿æ¥å¯¹è±¡ï¼Œç„¶åæ‰§è¡ŒSQLè¯­å¥ï¼ŒSQLè¯­å¥æ‰§è¡Œååˆéœ€è¦å…³é—­è¿æ¥å¯¹è±¡ä»è€Œé‡Šæ”¾èµ„æºï¼Œæ¯æ¬¡æ‰§è¡ŒSQLæ—¶éƒ½éœ€è¦åˆ›å»ºè¿æ¥ã€é”€æ¯é“¾æ¥ï¼Œè¿™ç§é¢‘ç¹çš„é‡
> - å¤åˆ›å»ºé”€æ¯çš„è¿‡ç¨‹æ˜¯æ¯”è¾ƒè€—è´¹è®¡ç®—æœºçš„æ€§èƒ½ 

æ•°æ®åº“è¿æ¥æ± çš„å¥½å¤„ï¼š

1. èµ„æºé‡ç”¨

2. æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦

3. é¿å…æ•°æ®åº“è¿æ¥é—æ¼



















































































