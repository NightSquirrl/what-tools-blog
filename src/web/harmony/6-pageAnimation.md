---
title: ðŸ¦‹ 6-é¡µé¢åŠ¨ç”»
tag:
  - harmony
star: true
---

# é¡µé¢åŠ¨ç”»

## å±žæ€§åŠ¨ç”»

ç»™ç»„ä»¶æ·»åŠ  animationå±žæ€§æ·»åŠ åŠ¨ç”»

`width`,`height`,`Opacity`,`backgroundColor`,`scale`,`rotate`,`translate`

| åç§°       | å‚æ•°ç±»åž‹                                                     | å¿…å¡« | æè¿°                                                         |
| ---------- | ------------------------------------------------------------ | ---- | ------------------------------------------------------------ |
| duration   | number                                                       | å¦   | `è®¾ç½®åŠ¨ç”»æ—¶é•¿ã€‚é»˜è®¤å€¼ï¼š1000å•ä½ï¼šæ¯«ç§’ä»ŽAPI version 9å¼€å§‹ï¼Œè¯¥æŽ¥å£æ”¯æŒåœ¨ArkTSå¡ç‰‡ä¸­ä½¿ç”¨ã€‚**è¯´æ˜Žï¼š**- åœ¨ArkTSå¡ç‰‡ä¸Šæœ€å¤§åŠ¨ç”»æŒç»­æ—¶é—´ä¸º1000æ¯«ç§’ã€‚- è®¾ç½®æµ®ç‚¹åž‹ç±»åž‹çš„å€¼æ—¶ï¼Œå‘ä¸‹å–æ•´ï¼›è®¾ç½®å€¼ä¸º1.2ï¼ŒæŒ‰ç…§1å¤„ç†ã€‚` |
| tempo      | number                                                       | å¦   | `åŠ¨ç”»æ’­æ”¾é€Ÿåº¦ã€‚æ•°å€¼è¶Šå¤§ï¼ŒåŠ¨ç”»æ’­æ”¾é€Ÿåº¦è¶Šå¿«ï¼Œæ•°å€¼è¶Šå°ï¼Œæ’­æ”¾é€Ÿåº¦è¶Šæ…¢ã€‚å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºä¸å­˜åœ¨åŠ¨ç”»ã€‚é»˜è®¤å€¼ï¼š1` |
| curve      | string \| [Curve](https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-appendix-enums-0000001478061741-V3#ZH-CN_TOPIC_0000001574248789__curve) \| [ICurve](https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/js-apis-curve-0000001427585072-V3#ZH-CN_TOPIC_0000001523808354__icurve)9+ | å¦   | `è®¾ç½®åŠ¨ç”»æ›²çº¿ã€‚é»˜è®¤å€¼ï¼šCurve.EaseInOutä»ŽAPI version 9å¼€å§‹ï¼Œè¯¥æŽ¥å£æ”¯æŒåœ¨ArkTSå¡ç‰‡ä¸­ä½¿ç”¨ã€‚` |
| delay      | number                                                       | å¦   | `è®¾ç½®åŠ¨ç”»å»¶è¿Ÿæ‰§è¡Œçš„æ—¶é•¿ã€‚é»˜è®¤å€¼ï¼š0ï¼Œä¸å»¶è¿Ÿæ’­æ”¾ã€‚å•ä½ï¼šæ¯«ç§’å–å€¼èŒƒå›´ï¼š[0, +âˆž)**è¯´æ˜Žï¼š**è®¾ç½®æµ®ç‚¹åž‹ç±»åž‹çš„å€¼æ—¶ï¼Œå‘ä¸‹å–æ•´ã€‚ä¾‹å¦‚ï¼Œè®¾ç½®å€¼ä¸º1.2ï¼ŒæŒ‰ç…§1å¤„ç†ã€‚` |
| iterations | number                                                       | å¦   | `è®¾ç½®æ’­æ”¾æ¬¡æ•°ã€‚é»˜è®¤å€¼ï¼š1å–å€¼èŒƒå›´ï¼š[-1, +âˆž)**è¯´æ˜Žï¼š**è®¾ç½®ä¸º-1æ—¶è¡¨ç¤ºæ— é™æ¬¡æ’­æ”¾ã€‚è®¾ç½®ä¸º0æ—¶è¡¨ç¤ºæ— åŠ¨ç”»æ•ˆæžœã€‚` |
| playMode   | [PlayMode](https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-appendix-enums-0000001478061741-V3#ZH-CN_TOPIC_0000001574248789__playmode) | å¦   | `è®¾ç½®åŠ¨ç”»æ’­æ”¾æ¨¡å¼ï¼Œé»˜è®¤æ’­æ”¾å®ŒæˆåŽé‡å¤´å¼€å§‹æ’­æ”¾ã€‚é»˜è®¤å€¼ï¼šPlayMode.Normalä»ŽAPI version 9å¼€å§‹ï¼Œè¯¥æŽ¥å£æ”¯æŒåœ¨ArkTSå¡ç‰‡ä¸­ä½¿ç”¨ã€‚` |
| onFinish   | `() => void`                                                 | å¦   | `çŠ¶æ€å›žè°ƒï¼ŒåŠ¨ç”»æ’­æ”¾å®Œæˆæ—¶è§¦å‘ã€‚ä»ŽAPI version 9å¼€å§‹ï¼Œè¯¥æŽ¥å£æ”¯æŒåœ¨ArkTSå¡ç‰‡ä¸­ä½¿ç”¨ã€‚**è¯´æ˜Žï¼š**å½“iterationsè®¾ç½®ä¸º-1æ—¶ï¼ŒåŠ¨ç”»æ•ˆæžœæ— é™å¾ªçŽ¯ä¸ä¼šåœæ­¢ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘æ­¤å›žè°ƒ` |

## æ˜¾ç¤ºåŠ¨ç”»

é€šè¿‡å…¨å±€çš„ animateToä¿®æ”¹ç»„ä»¶çš„å±žæ€§

```ts
animateTo(
  {
    duration:200 // ä¸Šæ–¹è¡¨æ ¼ä¸­çš„å±žæ€§
  },
  ()=> {
    
  }
)
```

> Demo

```ts
Button('change rotate angle')
  .margin(50)
  .rotate({ x: 0, y: 0, z: 1, angle: this.rotateAngle })
  .onClick(() => {
    animateTo({
      duration: 1200,
      curve: Curve.Friction,
      delay: 500,
      iterations: -1, // è®¾ç½®-1è¡¨ç¤ºåŠ¨ç”»æ— é™å¾ªçŽ¯
      playMode: PlayMode.Alternate,
      onFinish: () => {
        console.info('play end')
      }
    }, () => {
      this.rotateAngle = 90
    })
  })
```

## ç»„ä»¶è½¬åœºåŠ¨ç”»

`transition`ç»„ä»¶æ’å…¥å’Œç§»é™¤çš„è¿‡åº¦åŠ¨ç”»

éœ€è¦é…åˆ[animateTo](https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-explicit-animation-0000001478341181-V3)æ‰èƒ½ç”Ÿæ•ˆï¼ŒåŠ¨æ•ˆæ—¶é•¿ã€æ›²çº¿ã€å»¶æ—¶è·ŸéšanimateToä¸­çš„é…ç½®ï¼‰

| å‚æ•°åç§°  | å‚æ•°                                                         | å¿…å¡« | å‚æ•°æè¿°                                                     |
| --------- | ------------------------------------------------------------ | ---- | ------------------------------------------------------------ |
| slide     | [SlideEffect](https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-page-transition-animation-0000001477981233-V3#ZH-CN_TOPIC_0000001523489146__slideeffectæžšä¸¾è¯´æ˜Ž) | å¦   | `è®¾ç½®é¡µé¢è½¬åœºæ—¶çš„æ»‘å…¥æ»‘å‡ºæ•ˆæžœã€‚é»˜è®¤å€¼ï¼šSlideEffect.Right`    |
| translate | `{x? : number \|string,y? : number \|string,z? : number \|string}` |      | `è®¾ç½®é¡µé¢è½¬åœºæ—¶çš„å¹³ç§»æ•ˆæžœï¼Œä¸ºå…¥åœºæ—¶èµ·ç‚¹å’Œé€€åœºæ—¶ç»ˆç‚¹çš„å€¼ï¼Œå’ŒslideåŒæ—¶è®¾ç½®æ—¶é»˜è®¤ç”Ÿæ•ˆslideã€‚- xï¼šæ¨ªå‘çš„å¹³ç§»è·ç¦»ã€‚- yï¼šçºµå‘çš„å¹³ç§»è·ç¦»ã€‚- zï¼šç«–å‘çš„å¹³ç§»è·ç¦»ã€‚` |
| scale     | `{x? : number,y? : number,z? : number,centerX? : number \|string,centerY? : number \|string}` |      | `è®¾ç½®é¡µé¢è½¬åœºæ—¶çš„ç¼©æ”¾æ•ˆæžœï¼Œä¸ºå…¥åœºæ—¶èµ·ç‚¹å’Œé€€åœºæ—¶ç»ˆç‚¹çš„å€¼ã€‚- xï¼šæ¨ªå‘æ”¾å¤§å€æ•°ï¼ˆæˆ–ç¼©å°æ¯”ä¾‹ï¼‰ã€‚- yï¼šçºµå‘æ”¾å¤§å€æ•°ï¼ˆæˆ–ç¼©å°æ¯”ä¾‹ï¼‰ã€‚- zï¼šç«–å‘æ”¾å¤§å€æ•°ï¼ˆæˆ–ç¼©å°æ¯”ä¾‹ï¼‰ã€‚- centerXã€centerYç¼©æ”¾ä¸­å¿ƒç‚¹ã€‚- ä¸­å¿ƒç‚¹ä¸º0æ—¶ï¼Œé»˜è®¤çš„æ˜¯ç»„ä»¶çš„å·¦ä¸Šè§’ã€‚` |
| opacity   | number                                                       | å¦   | `è®¾ç½®å…¥åœºçš„èµ·ç‚¹é€æ˜Žåº¦å€¼æˆ–è€…é€€åœºçš„ç»ˆç‚¹é€æ˜Žåº¦å€¼ã€‚é»˜è®¤å€¼ï¼š1`    |

### SlideEffectæžšä¸¾è¯´æ˜Ž

| åç§°   | æè¿°                                               |
| :----- | :------------------------------------------------- |
| Left   | è®¾ç½®åˆ°å…¥åœºæ—¶è¡¨ç¤ºä»Žå·¦è¾¹æ»‘å…¥ï¼Œå‡ºåœºæ—¶è¡¨ç¤ºæ»‘å‡ºåˆ°å·¦è¾¹ã€‚ |
| Right  | è®¾ç½®åˆ°å…¥åœºæ—¶è¡¨ç¤ºä»Žå³è¾¹æ»‘å…¥ï¼Œå‡ºåœºæ—¶è¡¨ç¤ºæ»‘å‡ºåˆ°å³è¾¹ã€‚ |
| Top    | è®¾ç½®åˆ°å…¥åœºæ—¶è¡¨ç¤ºä»Žä¸Šè¾¹æ»‘å…¥ï¼Œå‡ºåœºæ—¶è¡¨ç¤ºæ»‘å‡ºåˆ°ä¸Šè¾¹ã€‚ |
| Bottom | è®¾ç½®åˆ°å…¥åœºæ—¶è¡¨ç¤ºä»Žä¸‹è¾¹æ»‘å…¥ï¼Œå‡ºåœºæ—¶è¡¨ç¤ºæ»‘å‡ºåˆ°ä¸‹è¾¹ã€‚ |

### äº‹ä»¶

| äº‹ä»¶                                                         | åŠŸèƒ½æè¿°                                                     |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| onEnter(event: (type?: RouteType, progress?: number) => void) | `å›žè°ƒå…¥å‚ä¸ºå½“å‰å…¥åœºåŠ¨ç”»çš„å½’ä¸€åŒ–è¿›åº¦[0 - 1]ã€‚- typeï¼šè·³è½¬æ–¹æ³•ã€‚- progressï¼šå½“å‰è¿›åº¦ã€‚è§¦å‘è¯¥äº‹ä»¶çš„æ¡ä»¶ï¼šé€å¸§å›žè°ƒï¼Œç›´åˆ°å…¥åœºåŠ¨ç”»ç»“æŸï¼Œprogressä»Ž0å˜åŒ–åˆ°1ã€‚` |
| onExit(event: (type?: RouteType, progress?: number) => void) | `å›žè°ƒå…¥å‚ä¸ºå½“å‰é€€åœºåŠ¨ç”»çš„å½’ä¸€åŒ–è¿›åº¦[0 - 1]ã€‚- typeï¼šè·³è½¬æ–¹æ³•ã€‚- progressï¼šå½“å‰è¿›åº¦ã€‚è§¦å‘è¯¥äº‹ä»¶çš„æ¡ä»¶ï¼šé€å¸§å›žè°ƒï¼Œç›´åˆ°é€€åœºåŠ¨ç”»ç»“æŸï¼Œprogressä»Ž0å˜åŒ–åˆ°1ã€‚` |

> Demo

```ts
if (this.flag) {
// Imageçš„æ˜¾ç¤ºå’Œæ¶ˆå¤±é…ç½®ä¸ºä¸åŒçš„è¿‡æ¸¡æ•ˆæžœ
Image($r('app.media.testImg')).width(300).height(300)
  .transition({ type: TransitionType.Insert, scale: { x: 0, y: 1.0 } })
  .transition({ type: TransitionType.Delete, rotate: { angle: 180 } })
}



// ç‚¹å‡»ButtonæŽ§åˆ¶Imageçš„æ˜¾ç¤ºå’Œæ¶ˆå¤±
animateTo({ duration: 1000 }, () => {
  if (this.flag) {
    this.show = 'hide'
  } else {
    this.show = 'show'
  }
  this.flag = !this.flag
})
```



