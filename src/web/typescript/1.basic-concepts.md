---
title: 1. åŸºç¡€æ¦‚å¿µ
tag:
  -  TypeScript
top: 1
recommend: 1
---

## åŸºç¡€ç±»å‹

###  Boolean ç±»å‹

```ts
let isDone: boolean = false;
// ES5ï¼švar isDone = false;
```

### Number ç±»å‹

```ts
let count: number = 10;
// ES5ï¼švar count = 10;
```

### String ç±»å‹

```ts
let name: string = "semliker";
// ES5ï¼švar name = 'semlinker';
```

### Symbol ç±»å‹

```ts
const sym = Symbol();
let obj = {

[sym]: "semlinker",

};

console.log(obj[sym]); // semlinker
```

### Array ç±»å‹

```ts
let list: number[] = [1, 2, 3];
// ES5ï¼švar list = [1,2,3];

let list: Array<number> = [1, 2, 3]; // Array<number>æ³›å‹è¯­æ³•
// ES5ï¼švar list = [1,2,3];
```

### ğŸ’¡Enum ç±»å‹

#### æ•°å­—æšä¸¾-å¸¸ç”¨

```ts
enum Direction {
  NORTH,
  SOUTH,
  EAST,
  WEST,
}

// é»˜è®¤æƒ…å†µä¸‹ NORTH,  SOUTH,  EAST,  WEST,å€¼ä¸€æ¬¡é€’å¢
// ä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šå€¼

enum Direction {
  NORTH = 3, // è®¾å€¼çš„æ˜¯åˆå§‹çš„å€¼,åé¢çš„å€¼ä¸€æ¬¡é€’å¢,ä¹Ÿå¯ä»¥ç»™æ¯ä¸€ä¸ªæŒ‡å®š
  SOUTH,
  EAST,
  WEST,
}

```

#### å­—ç¬¦ä¸²æšä¸¾-å¸¸ç”¨

```ts
enum Direction {
  NORTH = "NORTH",
  SOUTH = "SOUTH",
  EAST = "EAST",
  WEST = "WEST",
}

// ç±»ä¼¼äºå£°æ˜å¯¹è±¡ä¸€æ ·,å¯ä»¥å½“åšç±»å‹ä½¿ç”¨,ä¹Ÿå¯å½“åšå€¼ä½¿ç”¨
```

> ç‰¹æ®Š

```ts
enum Direction {
  NORTH,
  SOUTH,
  EAST,
  WEST,
}

let dirName = Direction[0]; // NORTH
let dirVal = Direction["NORTH"]; // 0

```

#### å¼‚æ„æšä¸¾

> æ··åˆç½¢äº†

```ts
enum Enum {
  A,
  B,
  C = "C",
  D = "D",
  E = 8,
  F,
}

```

### ğŸ’¡Any ç±»å‹

åœ¨ç±»å‹æŠ¥é”™çš„åœ°æ–¹,æˆ–è€…ä¸´æ—¶ä¸æƒ³æŒ‡å®šç±»å‹çš„æ—¶å€™å¯ä»¥æš‚æ—¶ä½¿ç”¨ any,è§„èŒƒçš„ ts é¡¹ç›®,æœ€å¥½ä¸ºæ¯ä¸€ä¸ªç±»å‹æŒ‡å®š

### Unknown ç±»å‹

å°±åƒæ‰€æœ‰ç±»å‹éƒ½å¯ä»¥èµ‹å€¼ç»™ anyï¼Œæ‰€æœ‰ç±»å‹ä¹Ÿéƒ½å¯ä»¥èµ‹å€¼ç»™ unknownã€‚è¿™ä½¿å¾— unknown æˆä¸º TypeScript ç±»å‹ç³»ç»Ÿçš„å¦ä¸€ç§é¡¶çº§ç±»å‹ï¼ˆå¦ä¸€ç§æ˜¯ anyï¼‰ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ unknown ç±»å‹çš„ä½¿ç”¨ç¤ºä¾‹ï¼š
```ts
let value: unknown;

value = true; // OK
value = 42; // OK
value = "Hello World"; // OK
value = []; // OK
value = {}; // OK
value = Math.random; // OK
value = null; // OK
value = undefined; // OK
value = new TypeError(); // OK
value = Symbol("type"); // OK

```

### Tuple ç±»å‹

==æ•°ç»„ä¸€èˆ¬ç”±åŒç§ç±»å‹çš„å€¼ç»„æˆ==ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨å•ä¸ªå˜é‡ä¸­å­˜å‚¨ä¸åŒç±»å‹çš„å€¼ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å…ƒç»„ã€‚åœ¨ JavaScript ä¸­æ˜¯æ²¡æœ‰å…ƒç»„çš„ï¼Œå…ƒç»„æ˜¯ TypeScript ä¸­ç‰¹æœ‰çš„ç±»å‹ï¼Œå…¶å·¥ä½œæ–¹å¼ç±»ä¼¼äºæ•°ç»„ã€‚

```ts
let tupleType: [string, boolean];
tupleType = ["semlinker", true];

```

### Void ç±»å‹

æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œvoid ç±»å‹åƒæ˜¯ä¸ any ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ voidï¼š
```ts
// å£°æ˜å‡½æ•°è¿”å›å€¼ä¸º void
function warnUser(): void {
  console.log("This is my warning message");
}

```

### Null å’Œ Undefined ç±»å‹

==TypeScript é‡Œï¼Œundefined å’Œ null ä¸¤è€…æœ‰å„è‡ªçš„ç±»å‹åˆ†åˆ«ä¸º undefined å’Œ nullã€‚==

```ts
let u: undefined = undefined;
let n: null = null;

```

> é»˜è®¤æƒ…å†µä¸‹ null å’Œ undefined æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ å°±æ˜¯è¯´ä½ å¯ä»¥æŠŠ null å’Œ undefined èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æŒ‡å®šäº†--strictNullChecks æ ‡è®°ï¼Œnull å’Œ undefined åªèƒ½èµ‹å€¼ç»™ void å’Œå®ƒä»¬å„è‡ªçš„ç±»å‹ã€‚

### object, Object å’Œ {} ç±»å‹

object ç±»å‹æ˜¯ï¼šTypeScript 2.2 å¼•å…¥çš„æ–°ç±»å‹ï¼Œå®ƒç”¨äºè¡¨ç¤ºéåŸå§‹ç±»å‹ã€‚

Object ç±»å‹ï¼šå®ƒæ˜¯æ‰€æœ‰ Object ç±»çš„å®ä¾‹çš„ç±»å‹ï¼Œå®ƒç”±ä»¥ä¸‹ä¸¤ä¸ªæ¥å£æ¥å®šä¹‰ï¼š

Object æ¥å£å®šä¹‰äº† Object.prototype åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼›
```ts
// node_modules/typescript/lib/lib.es5.d.ts
interface Object {
  constructor: Function;
  toString(): string;
  toLocaleString(): string;
  valueOf(): Object;
  hasOwnProperty(v: PropertyKey): boolean;
  isPrototypeOf(v: Object): boolean;
  propertyIsEnumerable(v: PropertyKey): boolean;
}

```

#### {} ç±»å‹

{} ç±»å‹æè¿°äº†ä¸€ä¸ªæ²¡æœ‰æˆå‘˜çš„å¯¹è±¡ã€‚å½“ä½ è¯•å›¾è®¿é—®è¿™æ ·ä¸€ä¸ªå¯¹è±¡çš„ä»»æ„å±æ€§æ—¶ï¼ŒTypeScript ä¼šäº§ç”Ÿä¸€ä¸ªç¼–è¯‘

```ts
// Type {}
const obj = {};

// Error: Property 'prop' does not exist on type '{}'.
obj.prop = "semlinker";

```

### Never ç±»å‹

never ç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚ ä¾‹å¦‚ï¼Œnever ç±»å‹æ˜¯é‚£äº›æ€»æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–æ ¹æœ¬å°±ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°è¡¨è¾¾å¼æˆ–ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¿”å›å€¼ç±»å‹ã€‚
```ts
// è¿”å› never çš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹
function error(message: string): never {
  throw new Error(message);
}

function infiniteLoop(): never {
  while (true) {}
}

```

## typescript æ–­è¨€

é€šè¿‡ç±»å‹æ–­è¨€è¿™ç§æ–¹å¼å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œâ€œç›¸ä¿¡æˆ‘ï¼Œæˆ‘çŸ¥é“è‡ªå·±åœ¨å¹²ä»€ä¹ˆâ€
ç®€å•çš„è¯´: ä½ æ¯” ts æ›´æ¸…æ¥šçš„çŸ¥é“æ­¤å¤„çš„ç±»å‹æ˜¯ä»€ä¹ˆ

- ğŸ’¡â€œå°–æ‹¬å·â€ è¯­æ³•

```ts
let someValue: any = "this is a string";
let strLength: number = (<string>someValue).length;
```

- ğŸ’¡as è¯­æ³•

```ts
let someValue: any = "this is a string";
let strLength: number = (someValue as string).length;
```

- ğŸ’¡éç©ºæ–­è¨€

  - ğŸ’¡å¿½ç•¥ undefined å’Œ null ç±»å‹

  ```ts
    // Type 'undefined' is not assignable to type 'string'.
    const ignoreUndefinedAndNull: string = maybeString!; // Ok
  
  ts è§‰å¾— maybeString å¯èƒ½æ˜¯ç©ºçš„,ä½†æ˜¯ä½ çŸ¥é“ä»–ä¸å¯èƒ½ä¸ºç©º,æ‰€ä»¥ä¸ºäº†è§£å†³ ts çš„é”™è¯¯æœ«å°¾æ·»åŠ !å‘Šè¯‰ ts ä»–ä¸å¯èƒ½ä¸ºç©º
  ```

## ç±»å‹å®ˆå«

### in å…³é”®å­—

```ts
interface Admin {
  name: string;
  privileges: string[];
}

interface Employee {
  name: string;
  startDate: Date;
}

type UnknownEmployee = Employee | Admin;

function printEmployeeInformation(emp: UnknownEmployee) {
  console.log("Name: " + emp.name);
  if ("privileges" in emp) {
    console.log("Privileges: " + emp.privileges);
  }
  if ("startDate" in emp) {
    console.log("Start Date: " + emp.startDate);
  }
}
```

åˆ¤æ–­è¯¥å­—ç¬¦ä¸²"privileges"ç±»å‹,æ˜¯å¦åœ¨è¯¥ç±»å‹ä¸­

### typeof å…³é”®å­—

```ts
function padLeft(value: string, padding: string | number) {
  if (typeof padding === "number") {
    return Array(padding + 1).join(" ") + value;
  }
  if (typeof padding === "string") {
    return padding + value;
  }
  throw new Error(`Expected string or number, got '${padding}'.`);
}
```

typeofæ›´åƒæ˜¯ç›´æ¥åˆ¤æ–­ç±»å‹,åˆ¤æ–­çš„å€¼åªèƒ½æ˜¯ "number"ï¼Œ "string"ï¼Œ "boolean" æˆ– "symbol"

### instanceof å…³é”®å­—

```ts
interface Padder {
  getPaddingString(): string;
}

class SpaceRepeatingPadder implements Padder {
  constructor(private numSpaces: number) {}
  getPaddingString() {
    return Array(this.numSpaces + 1).join(" ");
  }
}

class StringPadder implements Padder {
  constructor(private value: string) {}
  getPaddingString() {
    return this.value;
  }
}

let padder: Padder = new SpaceRepeatingPadder(6);

if (padder instanceof SpaceRepeatingPadder) {
  // padder çš„ç±»å‹æ”¶çª„ä¸º 'SpaceRepeatingPadder'
}
```

### è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤çš„ç±»å‹è°“è¯

```ts
function isNumber(x: any): x is number {
  return typeof x === "number";
}

function isString(x: any): x is string {
  return typeof x === "string";
}
```

## è”åˆç±»å‹å’Œç±»å‹åˆ«å

### è”åˆç±»å‹

```ts
// è”åˆç±»å‹å°±æ˜¯å°†å¤šä¸ªç±»å‹ä½¿ç”¨ | ç»„åˆ
// æ¯”å¦‚ åœ¨å£°æ˜å˜é‡çš„æ—¶å€™ä½†æ˜¯å¹¶ä¸æƒ³ç»™å€¼,æˆ–è€…ä¸çŸ¥é“ç»™å€¼
let a : number | undefined;
```

#### å¯è¾¨è¯†-ä¸å¸¸ç”¨

```ts
enum CarTransmission {
  Automatic = 200,
  Manual = 300,
}

interface Motorcycle {
  vType: "motorcycle"; // discriminant
  make: number; // year
}

interface Car {
  vType: "car"; // discriminant
  transmission: CarTransmission;
}

interface Truck {
  vType: "truck"; // discriminant
  capacity: number; // in tons
}
```

åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«å®šä¹‰äº† Motorcycleã€ Car å’Œ Truck ä¸‰ä¸ªæ¥å£ï¼Œåœ¨è¿™äº›æ¥å£ä¸­éƒ½åŒ…å«ä¸€ä¸ª vType å±æ€§ï¼Œè¯¥å±æ€§è¢«ç§°ä¸ºå¯è¾¨è¯†çš„å±æ€§ï¼Œè€Œå…¶å®ƒçš„å±æ€§åªè·Ÿç‰¹æ€§çš„æ¥å£ç›¸å…³ã€‚

### ç±»å‹åˆ«å

```ts
type Message = string | string[];

let greet = (message: Message) => {
  // ...
};
```

## äº¤å‰ç±»å‹

åœ¨ TypeScript ä¸­äº¤å‰ç±»å‹æ˜¯å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ã€‚==é€šè¿‡&==è¿ç®—ç¬¦å¯ä»¥å°†ç°æœ‰çš„å¤šç§ç±»å‹å åŠ åˆ°ä¸€èµ·æˆä¸ºä¸€ç§ç±»å‹ï¼Œå®ƒåŒ…å«äº†æ‰€éœ€çš„æ‰€æœ‰ç±»å‹çš„ç‰¹æ€§ã€‚

```ts
type PartialPointX = { x: number };
type Point = PartialPointX & { y: number };

let point: Point = {
  x: 1,
  y: 1,
};
```

### åŒååŸºç¡€ç±»å‹å±æ€§çš„åˆå¹¶

```ts
interface X {
  c: string;
  d: string;
}

interface Y {
  c: number;
  e: string;
}

type XY = X & Y;
type YX = Y & X;

let p: XY;
let q: YX;
```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ¥å£ X å’Œæ¥å£ Y éƒ½å«æœ‰ä¸€ä¸ªç›¸åŒçš„æˆå‘˜ cï¼Œä½†å®ƒä»¬çš„ç±»å‹ä¸ä¸€è‡´ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæ­¤æ—¶ XY ç±»å‹æˆ– YX ç±»å‹ä¸­æˆå‘˜ c çš„ç±»å‹æ˜¯ä¸æ˜¯å¯ä»¥æ˜¯ string æˆ– number ç±»å‹å‘¢ï¼Ÿ

æˆå‘˜ c çš„ç±»å‹ä¼šå˜æˆ never å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæ··å…¥åæˆå‘˜ c çš„ç±»å‹ä¸º string & numberï¼Œå³æˆå‘˜ c çš„ç±»å‹æ—¢å¯ä»¥æ˜¯ string ç±»å‹åˆå¯ä»¥æ˜¯ number ç±»å‹ã€‚å¾ˆæ˜æ˜¾è¿™ç§ç±»å‹æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥æ··å…¥åæˆå‘˜ c çš„ç±»å‹ä¸º neverã€‚

### åŒåéåŸºç¡€ç±»å‹å±æ€§çš„åˆå¹¶

```typescript
interface D {
  d: boolean;
}
interface E {
  e: string;
}
interface F {
  f: number;
}

interface A {
  x: D;
}
interface B {
  x: E;
}
interface C {
  x: F;
}

type ABC = A & B & C;

let abc: ABC = {
  x: {
    d: true,
    e: "semlinker",
    f: 666,
  },
};

console.log("abc:", abc);
```

ç”±ä¸Šå›¾å¯çŸ¥ï¼Œåœ¨æ··å…¥å¤šä¸ªç±»å‹æ—¶ï¼Œè‹¥å­˜åœ¨ç›¸åŒçš„æˆå‘˜ï¼Œä¸”æˆå‘˜ç±»å‹ä¸ºéåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæ˜¯å¯ä»¥æˆåŠŸåˆå¹¶ã€‚

## typescript å‡½æ•°

|   TypeScript   |     JavaScript     |
| :------------: | :----------------: |
|    å«æœ‰ç±»å‹    |       æ— ç±»å‹       |
|    ç®­å¤´å‡½æ•°    | ç®­å¤´å‡½æ•°ï¼ˆES2015ï¼‰ |
|    å‡½æ•°ç±»å‹    |     æ— å‡½æ•°ç±»å‹     |
| å¿…å¡«å’Œå¯é€‰å‚æ•° | æ‰€æœ‰å‚æ•°éƒ½æ˜¯å¯é€‰çš„ |
|    é»˜è®¤å‚æ•°    |      é»˜è®¤å‚æ•°      |
|    å‰©ä½™å‚æ•°    |      å‰©ä½™å‚æ•°      |
|    å‡½æ•°é‡è½½    |     æ— å‡½æ•°é‡è½½     |

å‚æ•°ç±»å‹ä»¥åŠè¿”å›å€¼ç±»å‹

```ts
let IdGenerator: (chars: string, nums: number) => string;

function createUserId(name: string, id: number): string {
  return name + id;
}
```

### ğŸ’¡å¯é€‰å‚æ•°åŠé»˜è®¤å‚æ•°

```ts
// å¯é€‰å‚æ•°
function createUserId(name: string, id: number, age?: number): string {
  return name + id;
}

// é»˜è®¤å‚æ•°
function createUserId(
  name: string = "semlinker",
  id: number,
  age?: number
): string {
  return name + id;
}
```

åœ¨å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡ ? å·æ¥å®šä¹‰å¯é€‰å‚æ•°ï¼Œæ¯”å¦‚ age?: number è¿™ç§å½¢å¼ã€‚åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œ==éœ€è¦æ³¨æ„çš„æ˜¯å¯é€‰å‚æ•°è¦æ”¾åœ¨æ™®é€šå‚æ•°çš„åé¢ï¼Œä¸ç„¶ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚==

### ğŸ’¡å‰©ä½™å‚æ•°

```ts
function push(array, ...items) {
  items.forEach(function (item) {
    array.push(item);
  });
}

let a = [];
push(a, 1, 2, 3);
```

### å‡½æ•°é‡è½½

å…¶å®æ¥è‡ªäº Java

> ç®€å•çš„è¯´åŒä¸€ä¸ªå‡½æ•°åä¼šæ ¹æ®å‚æ•°ä¸ªæ•°ä¸åŒ,å‚æ•°ç±»å‹ä¸åŒæ‰ç”¨ä¸åŒçš„å‡½æ•°

å‡½æ•°é‡è½½æˆ–æ–¹æ³•é‡è½½æ˜¯ä½¿ç”¨ç›¸åŒåç§°å’Œä¸åŒå‚æ•°æ•°é‡æˆ–ç±»å‹åˆ›å»ºå¤šä¸ªæ–¹æ³•çš„ä¸€ç§èƒ½åŠ›ã€‚

```ts
function add(a: number, b: number): number;
function add(a: string, b: string): string;
function add(a: string, b: number): string;
function add(a: number, b: string): string;
function add(a: Combinable, b: Combinable) {
  // type Combinable = string | number;
  if (typeof a === "string" || typeof b === "string") {
    return a.toString() + b.toString();
  }
  return a + b;
}
```

æ–¹æ³•é‡è½½æ˜¯æŒ‡åœ¨åŒä¸€ä¸ªç±»ä¸­æ–¹æ³•åŒåï¼Œå‚æ•°ä¸åŒï¼ˆå‚æ•°ç±»å‹ä¸åŒã€å‚æ•°ä¸ªæ•°ä¸åŒæˆ–å‚æ•°ä¸ªæ•°ç›¸åŒæ—¶å‚æ•°çš„å…ˆåé¡ºåºä¸åŒï¼‰ï¼Œè°ƒç”¨æ—¶æ ¹æ®å®å‚çš„å½¢å¼ï¼Œé€‰æ‹©ä¸å®ƒåŒ¹é…çš„æ–¹æ³•æ‰§è¡Œæ“ä½œçš„ä¸€ç§æŠ€æœ¯ã€‚æ‰€ä»¥ç±»ä¸­æˆå‘˜æ–¹æ³•æ»¡è¶³é‡è½½çš„æ¡ä»¶æ˜¯ï¼šåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•åç›¸åŒä¸”å‚æ•°åˆ—è¡¨ä¸åŒã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªæˆå‘˜æ–¹æ³•é‡è½½çš„ä¾‹å­ï¼š

```ts
class Calculator {
  add(a: number, b: number): number;
  add(a: string, b: string): string;
  add(a: string, b: number): string;
  add(a: number, b: string): string;
  add(a: Combinable, b: Combinable) {
    if (typeof a === "string" || typeof b === "string") {
      return a.toString() + b.toString();
    }
    return a + b;
  }
}

const calculator = new Calculator();
const result = calculator.add("Semlinker", " Kakuqo");
```

