# 工具链

## 在线尝试

### Vue SFC Playground

- https://sfc.vuejs.org/

- 在线尝试单文件组件的使用，始终根据最新的提交部署，用来检查编译输出的结果

### StackBlitz 中的 Vue + Vite

- https://vite.new/vue

- 类似 IDE 的环境，但实际是在浏览器中运行 Vite 开发服务器

## 项目脚手架

### Vite

- 一个轻量级的、速度极快的构建工具，对 Vue SFC 提供第一优先级支持

### Vue CLI

- Vue CLI 是官方提供的基于 Webpack 的 Vue 工具链

- 它现在处于维护模式，我们建议使用 Vite 开始新的项目，除非你依赖特定的 Webpack 的特性

## IDE 支持

### 推荐使用的 IDE 是 VSCode+ 配备 Volar 插件

- Volar 提供了语法高亮、TypeScript 支持，和模板内表达式与组件 props 的智能提示

### WebStorm 同样也为 Vue 的单文件组件提供了很好的内置支持

### 其他支持语言服务协议 (LSP) 的 IDE 也可以通过 LSP 享受到 Volar 所提供的的核心功能

## 浏览器开发者插件

### Vue 的浏览器开发者插件使我们可以浏览一个 Vue 应用的组件树，查看各个组件的状态，追踪状态管理的事件，还有测评性能表现

## TypeScript

### Volar 为  块提供类型检查，还包括对模板内表达式和组件之间 props 的验证

### 使用 vue-tsc 可以在命令行中执行相同的类型检查，通常用来生成单文件组件的 d.ts 文件

## 测试

### Cypress 推荐用于 E2E 测试。也可以通过 Cypress 组件测试运行器来给 Vue SFC 作单文件组件测试

### Vitest 是一个追求更快运行速度的测试运行器，由 Vue / Vite 团队成员开发。主要针对基于 Vite 的应用设计，可以为组件提供即时响应的测试反馈

### Jest 可以通过 vite-jest 配合 Vite 使用。不过只推荐在你已经有一套基于 Jest 的测试集、且想要迁移到基于 Vite 的开发配置时使用，因为 Vitest 会提供类似的功能，但集成更方便高效

## 代码规范

### Vue 团队维护着 eslint-plugin-vue 项目，它是一个 ESLint 插件，会提供 SFC 相关规则的定义

### 之前使用 Vue CLI 的用户可能习惯于通过 webpack loader 来配置规范检查器

### 若基于 Vite 构建，我们一般推荐：

- npm install -D eslint eslint-plugin-vue，然后遵照 eslint-plugin-vue 的指引进行配置

- 启用 ESLint IDE 插件，比如 ESLint for VSCode，然后你就可以在开发时获得规范检查器的反馈

- 将 ESLint 格式检查作为一个生产构建的步骤，保证你可以在最终打包时获得完整的规范检查反馈

- (可选) 启用类似 lint-staged 一类的工具在 git commit 提交时自动执行规范检查

## 格式化

### Volar VSCode 插件为 Vue SFC 提供了开箱即用的格式化功能

### 除此之外，Prettier 也提供了内置的 Vue SFC 格式化支持

## SFC 自定义块集成

### 自定义块被编译成导入到同一 Vue 文件的不同请求查询。这取决于底层构建工具如何处理这类导入请求

### 如果使用 Vite，需使用一个自定义 Vite 插件将自定义块转换为可执行的 JavaScript 代码

### 如果使用 Vue CLI 或只是 webpack，需要使用一个 loader 来配置如何转换匹配到的自定义块

## 底层库

### @vue/compiler-sfc

- 这个包是 Vue 核心 monorepo 的一部分，并始终和 vue 主包版本号保持一致。它已经成为 vue 主包的一个依赖并代理到了 vue/compiler-sfc 目录下，因此你无需单独安装它

- 这个包本身提供了处理 Vue SFC 的底层的功能，并只适用于需要支持 Vue SFC 相关工具链的开发者

### @vitejs/plugin-vue

- 为 Vite 提供 Vue SFC 支持的官方插件

### vue-loader

- 为 webpack 提供 Vue SFC 支持的官方 loader

## 其他在线 Playground

### VueUse Playground

- https://play.vueuse.org/

### Vue + Vite on Repl.it

- https://replit.com/@templates/VueJS-with-Vite

### Vue on CodeSandbox

- https://codesandbox.io/s/vue-3

### Vue on Codepen

- https://codepen.io/pen/editor/vue

### Vue on Components.studio

- https://components.studio/create/vue3

### Vue on WebComponents.dev

- https://webcomponents.dev/create/cevue


![6.2179e6c8d78f00d5e.png](https://img.picgo.net/2024/02/10/6.2179e6c8d78f00d5e.png)