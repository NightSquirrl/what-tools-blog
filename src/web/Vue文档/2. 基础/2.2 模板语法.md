# 2.2 模板语法

## 简介

### Vue 使用一种基于 HTML 的模板语法

### 底层机制中，Vue 会将模板编译成高度优化的 JavaScript 代码

### 你也可以结合可选的 JSX 支持直接手写渲染函数而不采用模板，但这将不会享受到和模板同等级别的编译时优化

## 文本插值

### 文本插值使用“Mustache”语法 (即双大括号)

- `Message: {{ msg }}`

### 双大括号标签会被替换为相应组件实例中  property 的值，同时具有响应式

## 原始 HTML

### 若想在模板中插入 HTML，需要使用 v-html 指令

- Using v-html directive: 

### 注意

- 不能使用 v-html 来拼接组合模板

- 在网站上动态渲染任意 HTML 是非常危险的行为

## Attribute 绑定

### 双大括号不能在 HTML attributes 中使用，但可以使用 v-bind 指令

- 将元素的 id attribute 与组件的 dynamicId property 保持一致

- 如果绑定的值是 null 或者 undefined，那么该 attribute 将会从渲染的元素上移除

### 以上例子可以缩写为 

### 布尔型 Attribute

- 布尔型 attribute 就那些依据 true/false 值决定是否应该在该元素上存在的 attribute

- 例如：Button

  当 isButtonDisabled 为真值或一个空字符串 (即 `<button disabled=''>`) 时，元素会包含这个 disabled attribute。而当其为假值时 attribute 将被忽略。
### 动态绑定多个值

- 如果你有一个包含多个 attribute 的 JavaScript 对象，通过不带参数的 v-bind，你可以将它们绑定到单个元素上

## 使用 JS 表达式

### Vue 在所有的数据绑定中都支持完整的 JavaScript 表达式

- 这些表达式都会被作为 JavaScript ，以组件为作用域解析执行

### 模板中的应用

- 在文本插值中 (双大括号)

- 在任何 Vue 指令 (以 v- 开头的特殊 attribute) attribute 的值中

### 注意点

- 仅支持表达式，不能是一个语句

- 受限的全局访问

	- 模板中的表达式将被沙盒化，仅能够访问到有限的全局对象列表

	- 没有显式包含在列表中的全局对象将不能在模板内表达式中访问

	- 当然可以自行在 app.config.globalProperties 上显式地添加他们，供所有的 Vue 表达式使用

## 指令

### 简介

- 指令是带有 v- 前缀的特殊 attribute

- 指令 attribute 的期望值为一个 JavaScript 表达式

- 使用指令是为了在其表达式值变化时响应式地对 DOM 应用更新

### 参数

- 某些指令会需要一个“参数”，使用冒号分隔

	-  ... 

	  这里 href 就是一个参数，它告诉 v-bind 指令将表达式 url 的值绑定到元素的 href attribute 上
### 动态参数

- 在指令参数上也可以使用一个 JavaScript 表达式，但需要包含在一对方括号内

	-  ... 

- 动态参数值的限制

	- 特殊值 null 意为显式移除该绑定

	- 任何其他非字符串的值都将触发一个警告

- 动态参数语法的限制

	- 空格和引号，在 HTML attribute 名称中都是不合法的

### 修饰符

- 修饰符是以点开头的特殊后缀，表明指令需要以一些特殊的方式被绑定

### 完整语法

-  


![2.2c5a3ab294c09c45c.png](https://img.picgo.net/2024/02/10/2.2c5a3ab294c09c45c.png)