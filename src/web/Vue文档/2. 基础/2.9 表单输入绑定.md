# 2.9 表单输入绑定

## 简介

### 我们常常需要将表单输入框的内容同步给 JavaScript 中相应的变量，手动连接值绑定和更改事件监听器可能会很麻烦

```html
<input
  :value='text'
  @input='event => text = event.target.value'>
```
### 使用v-model 指令可简化上述问题

### 除了可以应用input中，还可以用于、

- 文本类型的  和  元素会使用到 value 属性和 input 事件

-  和  使用 checked 属性和 change 事件

-  使用的 value 作为 prop，change 作为事件

### v-model 会忽略任何表单元素上初始的 value，checked 或 selected attributes。它将始终将当前绑定的 JavaScript 状态视为数据的正确来源

## 基本用法

### 文本

- `Message is: {{ message }}`

### 多行文本

- `Multiline message is:{{ message }}`

- 注意插值表达式在  中将不会工作。请使用 v-model 来替代

### 复选框

- 单一的复选框，绑定的是布尔类型值

 ` <input type='checkbox' id='checkbox' v-model='checked' />`
 ` <label for='checkbox'>{{ checked }}</label>`
- 还可以将多个复选框绑定到同一个数组或集合的值

 ` const checkedNames = ref([])`
 ` <div>Checked names: {{ checkedNames }}</div>`
  
 ` <input type='checkbox' id='jack' value='Jack' v-model='checkedNames'>`
 ` <label for='jack'>Jack</label>`
  
 ` <input type='checkbox' id='john' value='John' v-model='checkedNames'>`
 ` <label for='john'>John</label>`
  
`  <input type='checkbox' id='mike' value='Mike' v-model='checkedNames'>`
 ` <label for='mike'>Mike</label>`
### 单选按钮

```vue
<div>Picked: {{ picked }}</div>

<input type='radio' id='one' value='One' v-model='picked' />
<label for='one'>One</label>

<input type='radio' id='two' value='Two' v-model='picked' />
<label for='two'>Two</label>
```
### 选择器选项

- 单个选择器

```vue
  <div>Selected: {{ selected }}</div>
  
  <select v-model='selected'>
    <option disabled value=''>Please select one</option>
    <option>A</option>
    <option>B</option>
    <option>C</option>
  </select>
```
	- 如果 v-model 表达式的初始值不匹配任何一个选择项， 元素会渲染成一个“未选择”的状态

- 多选 (值绑定到一个数组)

```vue
  <div>Selected: {{ selected }}</div>
  
  <select v-model='selected' multiple>
    <option>A</option>
    <option>B</option>
    <option>C</option>
  </select>
```
## 值绑定

### 简介

- 对于单选按钮，复选框和选择器选项，v-model 绑定的值通常是静态的字符串 (或者对复选框是布尔值)

- 但有时我们可能希望将该值绑定到当前活动实例上的动态属性，那么可以使用 v-bind

### 复选框

- true-value 和 false-value 是 Vue 特有的 attributes 且仅会在 v-model 存在时工作。这里 toggle 属性的值会在选中时被设为 'yes'，取消选择时设为 'no'

### 单选按钮

- pick 会在第一个按钮选中时被设为 first，在第二个按钮选中时被设为 second

### 选择器选项



- v-model 同样也支持非字符串类型的值绑定！在上面这个例子中，当某个选项被选中，selected 会被设为该对象字面量值 `{ number: 123 }`

## 修饰符

### .lazy

- 默认情况下，v-model 会在每次 input 事件后更新数据，可以添加 lazy 修饰符来改为在每次 change 事件后更新数据

### .number

- 如果你想让用户输入自动转换为数字，你可以在 v-model 后添加 .number 修饰符来管理输入

- 如果该值无法被` parseFloat() `处理，那么将返回原始值

- number 修饰符会在输入框有 `type="number" `时自动应用

### .trim

- 自动去除用户输入内容中两端的空格

## 组件上的 v-model

### HTML 的内置输入类型并不总是满足你的需求。幸运的是，Vue 组件允许你构建具有完全自定义行为的可重用输入。这些输入也可以使用 v-mode


![2.9d5f5740b129c4f9e.png](https://img.picgo.net/2024/02/10/2.9d5f5740b129c4f9e.png)