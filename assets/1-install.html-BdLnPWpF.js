import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as e,o as l}from"./app-BcBpUkWz.js";const n={};function t(h,i){return l(),a("div",null,i[0]||(i[0]=[e(`<h2 id="_1-macos-版本的安装" tabindex="-1"><a class="header-anchor" href="#_1-macos-版本的安装"><span>1. MacOS 版本的安装</span></a></h2><h3 id="_1-1-下载地址" tabindex="-1"><a class="header-anchor" href="#_1-1-下载地址"><span>1.1 下载地址</span></a></h3><blockquote><p>选择对应的版本下载即可</p></blockquote><p><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener noreferrer">MacOS 下载地址</a></p><h3 id="_1-2-解决无法启动mysql问题" tabindex="-1"><a class="header-anchor" href="#_1-2-解决无法启动mysql问题"><span>1.2 解决无法启动MySQL问题</span></a></h3><ol><li><p>打开设置中的mysql图标，发现红点，点击&quot;Start MySQL Server&quot;后，变绿后秒变红，无法启动。</p></li><li><p>![image-20231111030503079](/Users/zeroeldath/Library/Application Support/typora-user-images/image-20231111030503079.png)</p></li><li><p>进入configuration，找到Error log的位置，尝试打开。</p></li><li><p>报错：无法打开data文件夹，权限不够。重新授权：</p></li></ol><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chown</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/mysql/data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="5"><li>打开error文件，报错为：<code>Could not create unix socket lock file /usr/local/mysql/mysql.sock.lock.</code></li></ol><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/mysql/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="6"><li>然后可以设置目录权限</li></ol><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chown</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql:mysql</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/mysql/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-3配置mysql环境变量" tabindex="-1"><a class="header-anchor" href="#_1-3配置mysql环境变量"><span>1.3配置MySQL环境变量</span></a></h3><p>如果需要在终端里面输入Mysql命令，那么就需要进行如下的配置。</p><ol><li>打开文件：<code>open ~/.bash_profile</code></li><li>加入语句：<code>PATH=$PATH:/usr/local/mysql/bin</code></li><li>使配置的语句生效：<code>source ~/.bash_profile</code></li><li>如果配置成功，那么输入命令：<code>mysql -uroot -p</code> 输入密码后成功登录</li></ol><h2 id="_2-window-版本的安装" tabindex="-1"><a class="header-anchor" href="#_2-window-版本的安装"><span>2. Window 版本的安装</span></a></h2><p><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener noreferrer">下载地址</a></p><blockquote><p>此处以下载压缩版本为例</p></blockquote><h3 id="配置环境变量" tabindex="-1"><a class="header-anchor" href="#配置环境变量"><span>配置环境变量</span></a></h3><p>将加压之后的文件 bin 目录的路径添加到 path 环境变量中</p><h3 id="配置-my-ini" tabindex="-1"><a class="header-anchor" href="#配置-my-ini"><span>配置 my.ini</span></a></h3><p>在加压的根目录中新建文件夹 my.ini</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 设置3306端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">3306</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 设置mysql的安装目录</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">basedir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">C:\\\\gl\\\\SQL\\\\mysql-8.0.18-winx64</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 设置mysql数据库的数据的存放目录</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">datadir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">C:\\\\gl\\\\SQL\\\\mysql-data</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 允许最大连接数</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">max_connections</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">200</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">max_connect_errors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 服务端使用的字符集默认为UTF8</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">character-set-server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">utf8</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 创建新表时将使用的默认存储引擎</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">default-storage-engine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">INNODB</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 默认使用“mysql_native_password”插件认证</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">default_authentication_plugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">mysql_native_password</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[mysql]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 设置mysql客户端默认字符集</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">default-character-set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">utf8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[client]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; 设置mysql客户端连接服务端时默认使用的端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">3306</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">default-character-set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">utf8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意：basedir 和 datadir 要改成你自己的目录。</p><p><mark>陷阱:</mark></p><p><code>default_authentication_plugin=mysql_native_password</code> 这一句必须要加上，否则可能导致 root 的初始密码无法登陆。</p></blockquote><h3 id="初始化数据库" tabindex="-1"><a class="header-anchor" href="#初始化数据库"><span>初始化数据库</span></a></h3><p><strong>以管理员身份</strong> 运行 <strong>cmd</strong>，切换至安装目录的 <strong>bin</strong> 目录下，输入如下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqld</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --initialize</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --console</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>默认的服务名就是 <code>mysql</code>，也可以指定服务名</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqld</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --initialize</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --console</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 服务名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><mark>执行成功后，会显示 <code>root</code> 的初始密码，如下图，这个密码需要保存下来。</mark></p><p>!!!!!</p><h3 id="安装服务" tabindex="-1"><a class="header-anchor" href="#安装服务"><span>安装服务</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqld</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="启动服务" tabindex="-1"><a class="header-anchor" href="#启动服务"><span>启动服务</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">net</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="登录数据库" tabindex="-1"><a class="header-anchor" href="#登录数据库"><span>登录数据库</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysql</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="修改密码" tabindex="-1"><a class="header-anchor" href="#修改密码"><span>修改密码</span></a></h3><p>执行以下语句，即可将密码改为 <strong>root</strong>。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ALTER</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> USER</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;root&#39;@&#39;localhost&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IDENTIFIED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> WITH</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql_native_password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,39)]))}const p=s(n,[["render",t]]),k=JSON.parse('{"path":"/server/mysql/1-install.html","title":"🧐 1. MySql 的安装","lang":"zh-CN","frontmatter":{"sticky":98,"title":"🧐 1. MySql 的安装","tag":["Java"],"top":4,"recommend":1,"description":"1. MacOS 版本的安装 1.1 下载地址 选择对应的版本下载即可 MacOS 下载地址 1.2 解决无法启动MySQL问题 打开设置中的mysql图标，发现红点，点击\\"Start MySQL Server\\"后，变绿后秒变红，无法启动。 ![image-20231111030503079](/Users/zeroeldath/Library/App...","head":[["meta",{"property":"og:url","content":"https://soft-vault.com/what-tools-blog/server/mysql/1-install.html"}],["meta",{"property":"og:site_name","content":"Night.Soul"}],["meta",{"property":"og:title","content":"🧐 1. MySql 的安装"}],["meta",{"property":"og:description","content":"1. MacOS 版本的安装 1.1 下载地址 选择对应的版本下载即可 MacOS 下载地址 1.2 解决无法启动MySQL问题 打开设置中的mysql图标，发现红点，点击\\"Start MySQL Server\\"后，变绿后秒变红，无法启动。 ![image-20231111030503079](/Users/zeroeldath/Library/App..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://soft-vault.com/what-tools-blog/Users/zeroeldath/Library/Application Support/typora-user-images/image-20231111030503079.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-24T14:33:33.000Z"}],["meta",{"property":"article:tag","content":"Java"}],["meta",{"property":"article:modified_time","content":"2025-03-24T14:33:33.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"🧐 1. MySql 的安装\\",\\"image\\":[\\"https://soft-vault.com/what-tools-blog/Users/zeroeldath/Library/Application Support/typora-user-images/image-20231111030503079.png\\"],\\"dateModified\\":\\"2025-03-24T14:33:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Night.Soul\\",\\"url\\":\\"https://github.com/NightSquirrl\\"}]}"]]},"headers":[{"level":2,"title":"1. MacOS 版本的安装","slug":"_1-macos-版本的安装","link":"#_1-macos-版本的安装","children":[{"level":3,"title":"1.1 下载地址","slug":"_1-1-下载地址","link":"#_1-1-下载地址","children":[]},{"level":3,"title":"1.2 解决无法启动MySQL问题","slug":"_1-2-解决无法启动mysql问题","link":"#_1-2-解决无法启动mysql问题","children":[]},{"level":3,"title":"1.3配置MySQL环境变量","slug":"_1-3配置mysql环境变量","link":"#_1-3配置mysql环境变量","children":[]}]},{"level":2,"title":"2. Window 版本的安装","slug":"_2-window-版本的安装","link":"#_2-window-版本的安装","children":[{"level":3,"title":"配置环境变量","slug":"配置环境变量","link":"#配置环境变量","children":[]},{"level":3,"title":"配置 my.ini","slug":"配置-my-ini","link":"#配置-my-ini","children":[]},{"level":3,"title":"初始化数据库","slug":"初始化数据库","link":"#初始化数据库","children":[]},{"level":3,"title":"安装服务","slug":"安装服务","link":"#安装服务","children":[]},{"level":3,"title":"启动服务","slug":"启动服务","link":"#启动服务","children":[]},{"level":3,"title":"登录数据库","slug":"登录数据库","link":"#登录数据库","children":[]},{"level":3,"title":"修改密码","slug":"修改密码","link":"#修改密码","children":[]}]}],"git":{"createdTime":1742826813000,"updatedTime":1742826813000,"contributors":[{"name":"nightsquirrl","username":"nightsquirrl","email":"“w1083670160@163.com”","commits":1,"url":"https://github.com/nightsquirrl"}]},"readingTime":{"minutes":2.28,"words":684},"filePathRelative":"server/mysql/1-install.md","localizedDate":"2025年3月24日","excerpt":"<h2>1. MacOS 版本的安装</h2>\\n<h3>1.1 下载地址</h3>\\n<blockquote>\\n<p>选择对应的版本下载即可</p>\\n</blockquote>\\n<p><a href=\\"https://dev.mysql.com/downloads/mysql/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">MacOS 下载地址</a></p>\\n<h3>1.2 解决无法启动MySQL问题</h3>\\n<ol>\\n<li>\\n<p>打开设置中的mysql图标，发现红点，点击\\"Start MySQL Server\\"后，变绿后秒变红，无法启动。</p>\\n</li>\\n<li>\\n<p>![image-20231111030503079](/Users/zeroeldath/Library/Application Support/typora-user-images/image-20231111030503079.png)</p>\\n</li>\\n<li>\\n<p>进入configuration，找到Error log的位置，尝试打开。</p>\\n</li>\\n<li>\\n<p>报错：无法打开data文件夹，权限不够。重新授权：</p>\\n</li>\\n</ol>","autoDesc":true}');export{p as comp,k as data};
